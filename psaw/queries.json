[
  {
    "descriptions": [
      "base",
      "search top 10 subreddits where 'depression' appears the most (subreddit title, post title and selftext)",
      "group posts by years",
      "posts per hour",
      "top 10 authors"
    ]
  },
  {
    "size": 0,
    "query": {
      "multi_match": {
        "fields": [
          "selftext",
          "subreddit",
          "title"
        ],
        "query": "depression"
      }
    },
    "aggs": {
      "Top 10 subreddits": {
        "terms": {
          "field": "subreddit",
          "size": 10
        }
      }
    }
  },
  {
    "size": 0,
    "aggs": {
      "Group by years": {
        "date_histogram": {
          "field": "created_utc",
          "interval": "year"
        }
      }
    }
  },
  {
    "size": 0,
    "aggs": {
      "Posts per hour": {
        "composite": {
          "size": 24,
          "sources": [
            {
              "Hour": {
                "terms": {
                  "field": "post_hour"
                }
              }
            }
          ]
        }
      }
    }
  },
  {
    "size": 0,
    "aggs": {
      "Top 10 authors": {
        "terms": {
          "field": "author",
          "size": 10
        }
      }
    }
  }
]